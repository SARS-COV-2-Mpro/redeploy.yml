# ========================
# Cloudflare Wrangler Config
# ========================

# 👇 Worker name — must match your Worker service in Cloudflare
name = "exchange-server"

# 👇 Entry file (your repo has `index.js` at root)
main = "index.js"

# 👇 Always set a compatibility date to “lock” Worker runtime features
compatibility_date = "2024-03-01"

# 👇 Your Cloudflare account ID
account_id = "d6846addb712ea8c4283cab3eabf02dc"

# ========================
# D1 DATABASE
# ========================
[[d1_databases]]
binding = "DB"                          # use in code as env.DB
database_name = "exchange_db"
database_id = "c3779437-f414-45f9-9c67-a083880de786"
preview_database_id = "c3779437-f414-45f9-9c67-a083880de786"

# ========================
# CRON TRIGGERS
# ========================
[triggers]
crons = ["*/1 * * * *"]                 # run every 5 minutes

# ========================
# SERVICES
# ========================
[[services]]
binding = "outbound"                    # use in code as env.outbound.fetch()
service = "outbound-proxy"              # target service name
